<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кадровый индикатор | Московская ДМ</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #d32f2f;
            --primary-dark: #9a0007;
            --primary-light: #ff6659;
            --secondary-color: #f5f5f5;
            --text-primary: #212121;
            --text-secondary: #757575;
            --divider-color: #e0e0e0;
            --success-color: #2e7d32;
            --warning-color: #ff8f00;
            --danger-color: #c62828;
            --white: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --sidebar-width: 240px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', Arial, sans-serif;
        }
        
        body {
            background-color: var(--secondary-color);
            color: var(--text-primary);
            display: flex;
            min-height: 100vh;
        }

        .sidebar-button.rsz1 {
    background-color: rgba(255, 255, 255, 0.35) !important; /* Более непрозрачный фон */
    font-weight: 500 !important; /* Более жирный текст */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important; /* Тень для выделения */
}

.sidebar-button.rsz1:hover {
    background-color: rgba(255, 255, 255, 0.5) !important;
}
        
        /* Сайдбар */
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--primary-color);
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .sidebar-header {
            color: var(--white);
            font-size: 1.1rem;
            font-weight: 500;
            padding: 1.5rem 1rem;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .sidebar-back-button {
            position: absolute;
            left: 1rem;
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .sidebar-back-button:hover {
            transform: translateX(-3px);
        }
        
        .sidebar-buttons {
            flex: 1;
            overflow-y: auto;
            padding: 0.5rem;
            scroll-behavior: smooth;
        }
        
        .sidebar-buttons::-webkit-scrollbar {
            width: 6px;
        }
        
        .sidebar-buttons::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }
        
        .sidebar-buttons::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
        }
        
        .sidebar-buttons:hover::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.5);
        }
        
        .sidebar-button {
            display: block;
            width: 100%;
            padding: 0.8rem 1rem;
            margin-bottom: 0.5rem;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--white);
            border: none;
            border-radius: 6px;
            font-size: 0.95rem;
            font-weight: 400;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .sidebar-button:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }
        
        .sidebar-button i {
            margin-right: 0.8rem;
            font-size: 1.1rem;
        }
        
        /* Основное содержимое */
        .dashboard {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 2rem;
            position: relative;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--divider-color);
        }
        
        .header-title {
            font-size: 1.8rem;
            font-weight: 500;
            color: var(--primary-color);
        }
        
        /* Карточки с графиками */
        .card {
            background-color: var(--white);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .card-title {
            font-size: 1.3rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }
        
        .card-title i {
            margin-right: 0.8rem;
        }
        
        .chart-container {
            width: 100%;
            height: 400px;
        }
        
        .gauge-container {
            height: 400px;
        }
        
        /* Сетка карточек */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .full-width-card {
            grid-column: 1 / -1;
        }
        
        /* Индикаторы */
        .indicators {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .indicator {
            flex: 1;
            min-width: 200px;
            background: var(--white);
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
        }
        
        .indicator-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.5rem;
            color: var(--white);
        }
        
        .indicator-success {
            background-color: var(--success-color);
        }
        
        .indicator-warning {
            background-color: var(--warning-color);
        }
        
        .indicator-danger {
            background-color: var(--success-color);
        }
        
        .indicator-info {
            background-color: var(--warning-color);
        }
        
        .indicator-content h3 {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 0.3rem;
        }
        
        .indicator-content p {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        /* Анимация кнопок */
        @keyframes scrollButtons {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
            100% {
                transform: translateY(0);
            }
        }
        
        .sidebar-button:nth-child(1) { animation-delay: 0.1s; }
        .sidebar-button:nth-child(2) { animation-delay: 0.2s; }
        .sidebar-button:nth-child(3) { animation-delay: 0.3s; }
        .sidebar-button:nth-child(4) { animation-delay: 0.4s; }
        .sidebar-button:nth-child(5) { animation-delay: 0.5s; }
        .sidebar-button:nth-child(6) { animation-delay: 0.6s; }
        .sidebar-button:nth-child(7) { animation-delay: 0.7s; }
        .sidebar-button:nth-child(8) { animation-delay: 0.8s; }
        .sidebar-button:nth-child(9) { animation-delay: 0.9s; }
        .sidebar-button:nth-child(10) { animation-delay: 1.0s; }
        .sidebar-button:nth-child(11) { animation-delay: 1.1s; }
        .sidebar-button:nth-child(12) { animation-delay: 1.2s; }
        .sidebar-button:nth-child(13) { animation-delay: 1.3s; }
        .sidebar-button:nth-child(14) { animation-delay: 1.4s; }
        .sidebar-button:nth-child(15) { animation-delay: 1.5s; }
        .sidebar-button:nth-child(16) { animation-delay: 1.6s; }
        .sidebar-button:nth-child(17) { animation-delay: 1.7s; }
        .sidebar-button:nth-child(18) { animation-delay: 1.8s; }
        .sidebar-button:nth-child(19) { animation-delay: 1.9s; }
        .sidebar-button:nth-child(20) { animation-delay: 2.0s; }
        .sidebar-button:nth-child(21) { animation-delay: 2.1s; }
        .sidebar-button:nth-child(22) { animation-delay: 2.2s; }
        .sidebar-button:nth-child(23) { animation-delay: 2.3s; }
        .sidebar-button:nth-child(24) { animation-delay: 2.4s; }
        .sidebar-button:nth-child(25) { animation-delay: 2.5s; }
        .sidebar-button:nth-child(26) { animation-delay: 2.6s; }
        .sidebar-button:nth-child(27) { animation-delay: 2.7s; }
        .sidebar-button:nth-child(28) { animation-delay: 2.8s; }
        .sidebar-button:nth-child(29) { animation-delay: 2.9s; }
        .sidebar-button:nth-child(30) { animation-delay: 3.0s; }
        .sidebar-button:nth-child(31) { animation-delay: 3.1s; }
        
        /* Адаптивность */
        @media (max-width: 992px) {
            .cards-grid {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .dashboard {
                margin-left: 0;
            }
            
            .menu-toggle {
                display: block;
            }
        }
        
        /* Иконки */
        .material-icons {
            font-family: 'Material Icons';
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }
    </style>
    <!-- Подключаем Plotly для интерактивных графиков -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- Материал иконки -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <button class="sidebar-back-button">
                <i class="material-icons">arrow_back</i>
            </button>
            <span>Московская ДМ</span>
        </div>
        <div class="sidebar-buttons">
            <a href="rsz1.html" class="sidebar-button rsz1">
            <i class="material-icons">group</i> РСЗ 1
            </a>
            <a href="rsz2.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 2
            </a>
            <a href="rsz3.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 3
            </a>
            <a href="rsz4.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 4
            </a>
            <a href="rsz5.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 5
            </a>
            <a href="rsz6.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 6
            </a>
            <a href="rsz7.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 7
            </a>
            <a href="rsz8.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 8
            </a>
            <a href="rsz9.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 9
            </a>
            <a href="rsz10.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 10
            </a>
            <a href="rsz11.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 11
            </a>
            <a href="rsz12.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 12
            </a>
            <a href="rsz13.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 13
            </a>
            <a href="rsz14.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 14
            </a>
            <a href="rsz15.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 15
            </a>
            <a href="rsz16.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 16
            </a>
            <a href="rsz17.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 17
            </a>
            <a href="rsz18.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 18
            </a>
            <a href="rsz19.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 19
            </a>
            <a href="rsz20.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 20
            </a>
            <a href="rsz21.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 21
            </a>
            <a href="rsz22.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 22
            </a>
            <a href="rsz23.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 23
            </a>
            <a href="rsz24.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 24
            </a>
            <a href="rsz25.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 25
            </a>
            <a href="rsz26.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 26
            </a>
            <a href="rsz27.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 27
            </a>
            <a href="rsz28.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 28
            </a>
            <a href="rsz29.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 29
            </a>
            <a href="rsz30.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 30
            </a>
            <a href="rsz31.html" class="sidebar-button">
                <i class="material-icons">group</i> РСЗ 31
            </a>
        </div>
    </div>
    
    <div class="dashboard">
        <div class="header">
            <h1 class="header-title">
                <i class="material-icons">assessment</i> Графики оценки компетенций
            </h1>
        </div>
        
        <div class="indicators">
            <div class="indicator">
                <div class="indicator-icon indicator-success">
                    <i class="material-icons">trending_up</i>
                </div>
                <div class="indicator-content">
                    <h3>Общая оценка</h3>
                    <p id="total-score">4.2</p>
                </div>
            </div>
            <div class="indicator">
                <div class="indicator-icon indicator-warning">
                    <i class="material-icons">group</i>
                </div>
                <div class="indicator-content">
                    <h3>Оценка коллег</h3>
                    <p id="colleagues-score">3.8</p>
                </div>
            </div>
            <div class="indicator">
                <div class="indicator-icon indicator-success">
                    <i class="material-icons">supervisor_account</i>
                </div>
                <div class="indicator-content">
                    <h3>Оценка руководителей</h3>
                    <p id="managers-score">4.1</p>
                </div>
            </div>
            <div class="indicator">
                <div class="indicator-icon indicator-info">
                    <i class="material-icons">person</i>
                </div>
                <div class="indicator-content">
                    <h3>Самооценка</h3>
                    <p id="self-score">4.3</p>
                </div>
            </div>
        </div>
        
        <div class="cards-grid">
            <!-- Столбчатая диаграмма -->
            <div class="card">
                <h2 class="card-title">
                    <i class="material-icons">bar_chart</i> Средние оценки по категориям
                </h2>
                <div class="chart-container" id="barChart"></div>
            </div>
            
            <!-- Радиальная диаграмма -->
            <div class="card">
                <h2 class="card-title">
                    <i class="material-icons">radar</i> Оценки компетенций по группам
                </h2>
                <div class="chart-container" id="radarChart"></div>
            </div>
            
            <!-- Boxplot диаграмма -->
            <div class="card">
                <h2 class="card-title">
                    <i class="material-icons">show_chart</i> Разброс оценок по категориям
                </h2>
                <div class="chart-container" id="boxPlot"></div>
            </div>
            
            <!-- Датчик общей оценки -->
            <div class="card">
                <h2 class="card-title">
                    <i class="material-icons">speed</i> Общая оценка сотрудника
                </h2>
                <div class="chart-container gauge-container" id="gaugeChart"></div>
            </div>
        </div>
    </div>

    <script>
        // Данные из Python кода
        const collegy = [
            [4, 3, 3, 1],
            [4, 3, 3, 4],
            [5, 3, 5, 3]
        ].flat();
        
        const rukovoditely = [
            [4, 5, 4, 5, 3, 5, 2],
            [4, 5, 3, 3, 5, 5, 5]
        ].flat();
        
        const podchinennie = [
            [5, 1, 3, 5],
            [2, 5, 4, 5]
        ].flat();
        
        const samoocenka = [5, 4, 5, 3];
        
        // Функция для расчета среднего значения
        function calculateMean(arr) {
            const sum = arr.reduce((a, b) => a + b, 0);
            return sum / arr.length;
        }
        
        // Рассчитываем средние значения
        const mean_collegy = calculateMean(collegy);
        const mean_rukovoditely = calculateMean(rukovoditely);
        const mean_podchinennie = calculateMean(podchinennie);
        const mean_samoocenka = calculateMean(samoocenka);

        // Рассчитываем общее среднее
        const total_mean = (mean_collegy + mean_rukovoditely + mean_podchinennie + mean_samoocenka) / 4;

        // Обновляем индикаторы
        document.getElementById('total-score').textContent = total_mean.toFixed(1);
        document.getElementById('colleagues-score').textContent = mean_collegy.toFixed(1);
        document.getElementById('managers-score').textContent = mean_rukovoditely.toFixed(1);
        document.getElementById('self-score').textContent = mean_samoocenka.toFixed(1);

        // Функция для создания красивого датчика
        function createBeautifulGauge(value, max_value=5) {
            let center_color, border_color;
            
            if (value >= 4) {
                center_color = '#DDFFDD';
                border_color = '#008040';
            } else if (value >= 2) {
                center_color = '#FFF6DD';
                border_color = '#CC9200';
            } else {
                center_color = '#FFDDDD';
                border_color = '#CC474B';
            }

            const gaugeData = [{
                type: "indicator",
                mode: "gauge+number",
                value: value,
                number: {
                    suffix: `/${max_value}`,
                    font: { size: 30 }
                },
                domain: { x: [0, 1], y: [0, 1] },


                gauge: {
                    axis: {
                        range: [1, max_value],
                        tickwidth: 1,
                        tickcolor: "darkgray",
                        tickfont: { size: 16 }
                    },
                    bar: {
                        color: center_color,
                        thickness: 0.25,
                        line: {
                            color: border_color,
                            width: 3
                        }
                    },
                    bgcolor: "white",
                    borderwidth: 3,
                    bordercolor: "darkgray",
                    steps: [
                        { range: [1, 2], color: '#FF5A5F' },
                        { range: [2, 4], color: '#FFB400' },
                        { range: [4, 5], color: '#00B159' }
                    ],
                    threshold: {
                        line: { color: "#333", width: 5 },
                        thickness: 0.8,
                        value: value
                    }
                }
            }];

            const gaugeLayout = {
                paper_bgcolor: 'white',
                height: 380,
                width: 565,
                margin: { l: 50, r: 50, b: 50, t: 50 },
                font: { family: "Roboto", color: "#333" }
            };

            Plotly.newPlot('gaugeChart', gaugeData, gaugeLayout);
        }

        // Создаем график-датчик
        createBeautifulGauge(total_mean);

        // Данные для столбчатой диаграммы
        const barCategories = ['Коллеги', 'Руководители', 'Подчиненные', 'Самооценка'];
        const values = [mean_collegy, mean_rukovoditely, mean_podchinennie, mean_samoocenka];
        
        // Функция для определения цвета столбца на основе значения
        function getColorForValue(value) {
            if (value >= 4) {
                return '#2e7d32';
            } else if (value >= 3) {
                return '#ff8f00';
            } else {
                return '#c62828';
            }
        }
        
// Создаем массив цветов на основе значений
const colors = values.map(value => getColorForValue(value));

// Создаем столбчатую диаграмму
Plotly.newPlot('barChart', [{
    x: barCategories,
    y: values,
    type: 'bar',
    marker: {
        color: colors,
        line: {
            color: 'lightgray',
            width: 1.5
        }
    },
    text: values.map(v => v.toFixed(2)),
    textposition: 'outside',
    textfont: {
        size: 16
    }
}], {
    yaxis: {
        title: 'Средняя оценка',
        range: [0, 5.5],
        titlefont: { size: 14 },
        tickfont: { size: 12 },
        showgrid: true,
        gridcolor: 'lightgray',
        gridwidth: 1
    },
    xaxis: {
        title: '',
        tickfont: { size: 14 }
    },
    font: {
        family: "Roboto",
        size: 12,
        color: "black"
    },
    showlegend: false,
    plot_bgcolor: 'white',
    margin: { t: 30 }
});

// Данные для радиальной диаграммы
const radarCategories = ['Коммуникация', 'Лидерство', 
               'Работа в команде', 'Ответственность'];

const radarData = [
            {
                fill: 'toself',
                hovertemplate: 'Группа=Руководитель<br>Оценка=%{r}<br>Категория=%{theta}<extra></extra>',
                legendgroup: 'Руководитель',
                line: {
                    color: '#d32f2f',
                    dash: 'solid',
                    width: 2
                },
                marker: {
                    symbol: 'circle'
                },
                mode: 'lines',
                name: 'Руководитель',
                opacity: 0.5,
                r: [4.5, 4.8, 2.2, 3.5],
                showlegend: true,
                subplot: 'polar',
                theta: radarCategories.concat(radarCategories[0]),
                type: 'scatterpolar'
            },
            {
                fill: 'toself',
                hovertemplate: 'Группа=Коллеги<br>Оценка=%{r}<br>Категория=%{theta}<extra></extra>',
                legendgroup: 'Коллеги',
                line: {
                    color: '#4ECDC4',
                    dash: 'solid',
                    width: 2
                },
                marker: {
                    symbol: 'circle'
                },
                mode: 'lines',
                name: 'Коллеги',
                opacity: 0.5,
                r: [3.8, 4.2, 3.5, 4.8],
                showlegend: true,
                subplot: 'polar',
                theta: radarCategories.concat(radarCategories[0]),
                type: 'scatterpolar'
            },
            {
                fill: 'toself',
                hovertemplate: 'Группа=Подчиненные<br>Оценка=%{r}<br>Категория=%{theta}<extra></extra>',
                legendgroup: 'Подчиненные',
                line: {
                    color: '#FFBE0B',
                    dash: 'solid',
                    width: 2
                },
                marker: {
                    symbol: 'circle'
                },
                mode: 'lines',
                name: 'Подчиненные',
                opacity: 0.5,
                r: [4.2, 3.8, 4.5, 3.9, 4.2],
                showlegend: true,
                subplot: 'polar',
                theta: radarCategories.concat(radarCategories[0]),
                type: 'scatterpolar'
            },
            {
                fill: 'toself',
                hovertemplate: 'Группа=Самооценка<br>Оценка=%{r}<br>Категория=%{theta}<extra></extra>',
                legendgroup: 'Самооценка',
                line: {
                    color: '#A05195',
                    dash: 'solid',
                    width: 2
                },
                marker: {
                    symbol: 'circle'
                },
                mode: 'lines',
                name: 'Самооценка',
                opacity: 0.5,
                r: [5, 4, 5, 3, 5],
                showlegend: true,
                subplot: 'polar',
                theta: radarCategories.concat(radarCategories[0]),
                type: 'scatterpolar'
            }
        ];

        const radarLayout = {
            autosize: true,
            font: {
                color: "black",
                family: "Roboto",
                size: 12
            },
            legend: {
                orientation: "v",  // Вертикальная ориентация
                x: -0.1,           // Правая часть графика
                xanchor: "right",  // Якорь справа
                y: 0,           // Нижняя часть графика
                yanchor: "bottom", // Якорь снизу
                font: {
                    size: 13,      // Уменьшенный размер шрифта
                    family: "Roboto",
                    color: "black"
                },
                bgcolor: "rgba(255,255,255,0.8)",
                bordercolor: "#EEE",
                borderwidth: 1,
                itemwidth: 30,    // Ширина элементов легенды
                itemclick: false, // Отключаем переключение элементов
                itemdoubleclick: false
            },
            polar: {
                angularaxis: {
                    direction: "clockwise",
                    rotation: 90,
                    tickfont: {
                        size: 14,
                        family: "Roboto"
                    },
                    type: "category"
                },
                domain: {
                    x: [0, 1],    // Полная ширина для графика
                    y: [0, 1]
                },
                radialaxis: {
                    autorange: false,
                    range: [0, 5.5],
                    tickfont: {
                        size: 12,
                        family: "Roboto"
                    },
                    ticktext: ["1", "2", "3", "4", "5"],
                    tickvals: [1, 2, 3, 4, 5],
                    title: {
                        text: "Оценка",
                        font: {
                            size: 14,
                            family: "Roboto"
                        }
                    },
                    type: "linear",
                    visible: true
                }
            },
            margin: { 
                t: 20,
                b: 30,
                l: 0,
                r: 90
            }
        };

        // Создаем радиальную диаграмму
        Plotly.newPlot('radarChart', radarData, radarLayout);

        // Создаем данные для boxplot
        const boxplotData = [
            {
                y: collegy,
                name: 'Коллеги',
                boxpoints: 'outliers',
                type: 'box',
                marker: {
                    color: '#d32f2f',
                    size: 6
                },
                line: {
                    width: 2
                }
            },
            {
                y: rukovoditely,
                name: 'Руководители',
                boxpoints: 'outliers',
                type: 'box',
                marker: {
                    color: '#4ECDC4',
                    size: 6
                },
                line: {
                    width: 2
                }
            },
            {
                y: podchinennie,
                name: 'Подчиненные',
                boxpoints: 'outliers',
                type: 'box',
                marker: {
                    color: '#FFBE0B',
                    size: 6
                },
                line: {
                    width: 2
                }
            },
            {
                y: samoocenka,
                name: 'Самооценка',
                boxpoints: 'outliers',
                type: 'box',
                marker: {
                    color: '#A05195',
                    size: 6
                },
                line: {
                    width: 2
                }
            }
        ];

        // Настройки layout для boxplot
        const boxplotLayout = {
            yaxis: {
                title: {
                    text: 'Оценка',
                    font: {
                        size: 14
                    }
                },
                range: [0, 5.5],
                tickfont: {
                    size: 12
                }
            },
            xaxis: {
                tickfont: {
                    size: 14
                }
            },
            legend: {
                font: {
                    size: 14
                }
            },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            showlegend: true,
            margin: {
                l: 60,
                r: 40,
                b: 60,
                t: 30,
                pad: 4
            },
            font: {
                family: "Roboto"
            }
        };

        // Создаем boxplot диаграмму
        Plotly.newPlot('boxPlot', boxplotData, boxplotLayout);
    </script>
</body>
</html>